import SwiftUI
import UIKit

struct ContentView: View {
    @State private var hobbies = ["Reading ğŸ“–", "Running ğŸƒğŸ¼â€â™€ï¸", "Weight-Lifting ğŸ‹ğŸ¼â€â™€ï¸", "Cooking ğŸ³", "Painting ğŸ¨", "Photography ğŸ“¸", "Playing an Instrument ğŸ¶", "Baking ğŸ§", "Journaling âœğŸ»", "Camping â›º"]

    var body: some View {
        NavigationView {
            ZStack {
                Color(UIColor(red: 204.0/255.0, green: 204.0/255.0, blue: 255.0/255.0, alpha: 1.0))
                    .edgesIgnoringSafeArea(.all)

                VStack {
                    HStack {
                        NavigationLink(destination: View1(hobbies: $hobbies)) {
                            Text("+")
                                .offset(x: -10)
                                .padding(.leading, 375)
                                .font(.largeTitle)
                                .navigationTitle("Hobby Tracker")
                        }
                    }

                    List(hobbies, id: \.self) {
                        Text($0)
                        
                    }
                    .scrollContentBackground(.hidden)
                }
            }
        }
    }
}

private extension ContentView {
    struct View1: View {
        @State private var hobby = " "
        @State private var pickerSelection = " "
        @Binding var hobbies: [String]

        var body: some View {
            ZStack {
                Color(UIColor(red: 204.0/255.0, green: 204.0/255.0, blue: 255.0/255.0, alpha: 1.0))
                    .edgesIgnoringSafeArea(.all)

                VStack {
                    Text("Please enter a new hobby and pick an emoji: ")

                    Form {
                        Picker(selection: $pickerSelection, label: TextField("Hobby", text: $hobby)) {
                            Group{
                                Text(" ").tag(" ")}
                            Group{
                                Text("ğŸ¢").tag("ğŸ¢")
                                Text("ğŸš²").tag("ğŸš²")
                                Text("ğŸ›¼").tag("ğŸ›¼")
                                Text("âœˆï¸").tag("âœˆï¸")
                                Text("ğŸ›¶").tag("ğŸ›¶")
                                Text("âš½").tag("âš½")
                                Text("â›³").tag("â›³")
                                Text("ğŸ®").tag("ğŸ®")
                                Text("ğŸ€").tag("ğŸ€")
                                Text("ğŸ").tag("ğŸ")}
                            Group{
                                Text("ğŸˆ").tag("ğŸˆ")
                                Text("ğŸ‰").tag("ğŸ‰")
                                Text("ğŸ¾").tag("ğŸ¾")
                                Text("ğŸ¥").tag("ğŸ¥")
                                Text("ğŸ³").tag("ğŸ³")
                                Text("ğŸ‘").tag("ğŸ‘")
                                Text("ğŸ¥").tag("ğŸ¥")
                                Text("ğŸ£").tag("ğŸ£")
                                Text("ğŸ¤¿").tag("ğŸ¤¿")
                                Text("ğŸ§©").tag("ğŸ§©")}
                        }
                    }

                    Button(action: {
                        hobby = hobby + pickerSelection
                        hobbies.append(hobby)
                        checkingDuplicates(hobby: hobby, emoji: pickerSelection, hobbiesList: hobbies)
                        
                    }) {
                        Label("Submit", systemImage: "hobby")
                            .font(.system(size:20))
                            .foregroundColor(.purple)
                    }
                    Spacer()
                }
                .scrollContentBackground(.hidden)            }
        }
    }
}

func checkingDuplicates(hobby: String, emoji: String, hobbiesList: Array<String>)
{
    let checkingHobby = hobby.lowercased()
    
    for i in hobbiesList{
        let temporary = i.dropLast().dropLast().lowercased()
        
        if temporary == checkingHobby{
            let alert = Alert(title: Text("This hobby has already been added."),
                                          message: Text("There is no undo"),
                                          primaryButton: .destructive(Text("Delete")) {
                                              print("Deleting...")
                                          },
                                          secondaryButton: .cancel())
        }
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
